<config>
  <ipv4>
    <enabled/>
  </ipv4>
  <ipv6>
    <enabled/>
  </ipv6>

  <statedir path="/var/run/wicked" mode="0755"/>

  <dbus name="com.suse.Wicked" />
  <schema name="/etc/wicked/schema/wicked.xml"/>

  <netif-naming-services>
    <!-- This is just an example; the library itself isn't implemented yet -->
    <!--
    <builtin name="biosdevname" library="libwicked-biosname.so" symbol="biosdevname_ns"/>
     -->
  </netif-naming-services>

  <netif-firmware-discovery>
    <script name="ibft" command="/etc/wicked/extensions/ibft" />
  </netif-firmware-discovery>

  <dbus-service interface="com.suse.Wicked.Ethernet">
   <!-- default environment for all calls to this extension script -->
   <putenv name="WICKED_OBJECT_PATH" value="$object-path"/>
   <putenv name="WICKED_INTERFACE_NAME" value="$property:name"/>
   <putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/>
  </dbus-service>

  <dbus-service interface="com.suse.Wicked.Bond">
   <action name="addSlave" command="/etc/wicked/extensions/bonding addSlave" />
   <action name="removeSlave" command="/etc/wicked/extensions/bonding removeSlave" />

   <!-- default environment for all calls to this extension script -->
   <putenv name="WICKED_OBJECT_PATH" value="$object-path"/>
   <putenv name="WICKED_INTERFACE_NAME" value="$property:name"/>
   <putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/>
  </dbus-service>

  <dbus-service interface="com.suse.Wicked.Bridge">
   <action name="addPort" command="/etc/wicked/extensions/bridge addPort" />
   <action name="removePort" command="/etc/wicked/extensions/bridge removePort" />

   <!-- default environment for all calls to this extension script -->
   <putenv name="WICKED_OBJECT_PATH" value="$object-path"/>
   <putenv name="WICKED_INTERFACE_NAME" value="$property:name"/>
   <putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/>
  </dbus-service>

  <dbus-service interface="com.suse.Wicked.Wireless">
   <!-- default environment for all calls to this extension script -->
   <putenv name="WICKED_OBJECT_PATH" value="$object-path"/>
   <putenv name="WICKED_INTERFACE_NAME" value="$property:name"/>
   <putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/>
  </dbus-service>

  <dbus-service interface="com.suse.Wicked.OpenVPN">
   <action name="changeDevice" command="/etc/wicked/extensions/openvpn change" />
   <action name="linkUp" command="/etc/wicked/extensions/openvpn link-up" />
   <action name="linkDown" command="/etc/wicked/extensions/openvpn link-down" />

   <!-- default environment for all calls to this extension script -->
   <putenv name="WICKED_OBJECT_PATH" value="$object-path"/>
   <putenv name="WICKED_INTERFACE_NAME" value="$property:name"/>
   <putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/>
   <putenv name="WICKED_TUNNEL_ID" value="$property:tunnel-id"/>
  </dbus-service>

  <dbus-service interface="com.suse.Wicked.Firewall">
   <action name="firewallUp" command="/etc/wicked/extensions/firewall up"/>
   <action name="firewallDown" command="/etc/wicked/extensions/firewall down"/>

   <!-- default environment for all calls to this extension script -->
   <putenv name="WICKED_OBJECT_PATH" value="$object-path"/>
   <putenv name="WICKED_INTERFACE_NAME" value="$property:name"/>
   <putenv name="WICKED_INTERFACE_INDEX" value="$property:index"/>
  </dbus-service>

  <!-- Define the scripts for updating various system settings with
    -- data obtained from addrconf services, such as dhcp -->
  <system-updater name="resolver">
    <action name="backup" command="/etc/wicked/extensions/resolver backup"/>
    <action name="restore" command="/etc/wicked/extensions/resolver restore"/>
    <action name="install" command="/etc/wicked/extensions/resolver install"/>
  </system-updater>

  <system-updater name="hostname">
    <action name="backup" command="/etc/wicked/extensions/hostname backup"/>
    <action name="restore" command="/etc/wicked/extensions/hostname restore"/>
    <action name="install" command="/etc/wicked/extensions/hostname install"/>
  </system-updater>

</config>
